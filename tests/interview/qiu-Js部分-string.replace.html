<!DOCTYPE html>
<html>
  <head>
    <title>js</title>
    <meta charset="utf-8">
    <meta name = "viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
    <link rel="stylesheet" href="bootstrap/css/bootstrap.min.css">
    <script type="text/javascript" src="js/lib/jquery/dist/jquery.min.js"></script>
  </head>
  <body>
  <div>
    <p id = "result">输出结果</p>
  </div>

  <ul id="testUL">
    <li> index = 0</li>
    <li> index = 1</li>
    <li> index = 2</li>
    <li> index = 3</li>
  </ul>


  <script type="text/javascript">

    // define
(function (window) {
    function fn(str) {
        this.str = str;
    }

    fn.prototype.format = function () {
        var arg = Array.prototype.slice.call(arguments,0);        //不会---
        return this.str.replace( /\{(\d+)\}/g, function (a, b) {
            return arg[b] || '';
        });
    };

    window.fn = fn;
})(window);

// use
(function () {
    var t = new fn('<p><a href="{0}">{1}</a><span>{2}</span></p>');
    var reg = t.str.match(/\{\s*(\d+)\s*\}/g);
    var tFormat = t.format('http://www.alibaba.com', 'Alibaba', 'Welcome')
    alert(reg);
    alert(tFormat);
    document.write(tFormat);
})();


  </script>
<script>
  var startTime = +new Date;
  var count = 0;
  // var handle = setInterval(function() {
  //   console.log('hello world'+count);
  //   count++;
  //   if(count === 1000) clearInterval(handle);
  // }, 10);
  var handle = setTimeout(function(){
      console.log("hello"+count);
      count++;
  },100);

  var handle2 = setInterval(function() {
    console.log('hello world'+count);
    count++;
    if(count === 10) clearInterval(handle2);
  }, 10);

  while(+new Date - startTime < 10 * 1000) {};


</script>
  </body>

</html>
